\chapter{Metric Spaces and Topology}

From an engineering perspective, the most important way to construct a topology on a set is to define the topology in terms of a metric on the set.
This approach underlies our intuitive understanding of open and closed sets on the real line.
Generally speaking, a metric captures the notion of a distance between two elements of a set.
Topologies that are defined through metrics possess a number of properties that make them suitable for analysis.
Identifying these common properties permits the unified treatment of different spaces that are useful in solving engineering problems.
To gain better insight into metric spaces, we need to review the notion of a metric and to introduce a definition for topology.


\section{Metric Spaces}

\index{metric space}
A \textbf{metric space} is a set that has a well-defined ``distance'' between any two elements of the set.
Mathematically, the notion of a metric space abstracts a few basic properties of Euclidean space.
Formally, a metric space $(X,d)$ is a set $X$ and a function $d$ that is a metric on $X$.
\begin{definition}
A \defn{metric space}{metric} on a set $X$ is a function
\begin{equation*}
d: X \times X \rightarrow \RealNumbers
\end{equation*}
that satisfies the following properties,
\begin{enumerate}
\item $d(x,y) \geq 0 \quad \forall x, y \in X$; equality holds if and only if $x = y$
\item $d(x,y) = d(y,x) \quad \forall x, y \in X$
\item $d(x,y) + d(y,z) \geq d(x,z) \quad \forall x, y, z \in X$.
\end{enumerate}
\end{definition}

\begin{example}
The set of real numbers equipped with the metric of absolute distance $d(x,y)=\left| x-y \right|$ defines the standard metric space of real numbers $\RealNumbers$.
\end{example}

\begin{example}
Given $\vecnot{x} = (x_1, \ldots, x_n), \vecnot{y} = (y_1, \ldots, y_n) \in \RealNumbers^n$, the \defn{metric space}{Euclidean metric} $d$ on $\RealNumbers^n$ is defined by the equation
\begin{equation*}
d \left( \vecnot{x}, \vecnot{y} \right)
= \sqrt{ (x_1 - y_1)^2 + \cdots + (x_n - y_n)^2 }.
\end{equation*}
As implied by its name, the function $d$ defined above is a metric.
\end{example}

\begin{problem}
Let $\vecnot{x} = (x_1, \ldots, x_n), \vecnot{y} = (y_1, \ldots, y_n) \in \RealNumbers^n$ and consider the function $\rho$ given by
\begin{equation*}
\rho \left( \vecnot{x}, \vecnot{y} \right)
= \max \left\{ |x_1 - y_1|, \ldots, |x_n - y_n| \right\}.
\end{equation*}
Show that $\rho$ is a metric.
\end{problem}

\begin{problem} \label{problem:StandardBoundedMetric}
Let $X$ be a metric space with metric $d$.
Define $\bar{d} : X \times X \rightarrow \RealNumbers$ by
\begin{equation*}
\bar{d} (x, y)
= \min \left\{ d (x, y), 1 \right\}.
\end{equation*}
Show that $\bar{d}$ is also a metric.
\end{problem}

Let $(X,d)$ be a metric space.
Then, elements of $X$ are called \defn{metric space}{points} and the number $d(x,y)$ is called the \defn{metric space}{distance} between $x$ and $y$.
Let $\epsilon > 0$ and consider the set $B_d(x,\epsilon) = \left\{ y \in X | d(x,y) < \epsilon \right\}$.
This set is called the \defn{metric space}{$d$-open ball} of radius $\epsilon$ centered at $x$.

\begin{problem}
Suppose $a \in B_d(x, \epsilon)$ with $\epsilon > 0$.
Show that there exists a $d$-open ball centered at $a$ of radius $\delta$, say $B_d(a, \delta)$, that is contained in $B_d(x, \epsilon)$.
\end{problem}

One of the main benefits of having a metric is that it provides some notion of ``closeness'' between points in a set.
This alows one to discusss limits, convergence, open sets, and closed sets.

\begin{definition}
A \defn{metric space}{sequence} of elements from a set $X$ is an infinite list $x_1,x_2,\ldots$ where $x_i \in X$ for all $i\in \mathbb{N}$.
Formally, a sequence is equivalent to a function $f: \mathbb{N} \rightarrow X$ where $x_i = f(i)$ for all $i\in \mathbb{N}$.
\end{definition}

\begin{definition}
Consider a sequence $x_1, x_2, \ldots$ of points in a metric space $(X,d)$.
This sequence \defn{metric space}{$d$-converges} to $x\in X$ if, for any $\epsilon >0$, there is natural number $N$ such that $d(x,x_n) < \epsilon$ for all $n>N$.
\end{definition}

\begin{definition}
A sequence $x_1,x_2,\ldots$ in $(X,d)$ is a \defn{metric space}{Cauchy sequence} if, for any $\epsilon >0$, there is a natural number $N$ (depending on $\epsilon$) such that, for all $m,n > N$,
\begin{equation*}
d \left( x_m, x_n \right) < \epsilon.
\end{equation*}
\end{definition}

\begin{theorem}
Every $d$-convergent sequence is a Cauchy sequence.
\end{theorem}
\begin{proof}
Since $x_1,x_2,\ldots$ $d$-converges to some $x$, there is an $N$, for any $\epsilon>0$, such that $d(x,x_n)<\epsilon /2$ for all $n>N$.
The triangle inequality for $d(x_m,x_n)$ shows that, for all $m,n>N$,
\[ d(x_m,x_n)\leq d(x_m,x) + d(x,x_n) \leq \epsilon/2 + \epsilon/2 = \epsilon. \]
Therefore, $x_1,x_2,\ldots$ is a Cauchy sequence.
\end{proof}

\begin{definition}
\label{definition:metspace_dopen}
Let $W$ be a subset of a metric space $(X,d)$.
The set $W$ is called \defn{metric space}{$d$-open} if, for every $w\in W$, there is an $\epsilon>0$ such that $B_d (w,\epsilon) \subseteq W$.
\end{definition}

\begin{theorem}
\label{theorem:d_open_closure}
For any metric space $(X,d)$,
\begin{enumerate}
\item $\emptyset$ and $X$ are $d$-open
\item any union of $d$-open sets is $d$-open
\item any finite intersection of $d$-open sets if $d$-open
\end{enumerate}
\end{theorem}
\begin{proof}
This proof is left as an exercise for the reader.
\end{proof}

One might be curious why only finite intersections are allowed in Theorem~\ref{theorem:d_open_closure}.
The following example highlights the problem with allowing infinite intersections.
\begin{example}
Let $I_n = \left(-\frac{1}{n},\frac{1}{n} \right) \subset \RealNumbers$, for $n\in \mathbb{N}$, be a sequence of open real intervals.
The infinite intersection
\[ \bigcap_{n\in \mathbb{N}} I_n = \{ x\in \RealNumbers | \forall n\in \mathbb{N}, x\in I_n \} = \{0 \}. \]
But, it is easy to verify that $\{ 0 \}$ is not a $d$-open set.
\end{example}

\begin{definition}
A subset $W$ of a metric space $(X,d)$ is $d$-closed if its complement $W^c = X-W$ is $d$-open.
\end{definition}

\begin{corollary}
For any metric space $(X,d)$,
\begin{enumerate}
\item $\emptyset$ and $X$ are $d$-closed
\item any intersection of $d$-closed sets is $d$-closed
\item any finite union of $d$-closed sets if $d$-closed
\end{enumerate}
\end{corollary}
\begin{proof}[Sketch of proof]
Using the definition of $d$-closed, one can apply De Morgan's Laws to Theorem~\ref{theorem:d_open_closure} verify this result.
\end{proof}

\begin{definition}
Suppose $f: X \rightarrow Y$ is a function from the metric space $(X,d_X)$ to the metric space $(Y,d_Y)$.
Then, $f$ is \defn{metric space}{$d$-continuous} at $x_0$ if, for any $\epsilon> 0$, there exists a $\delta >0$ such that, for all $x\in X$ satisfying $d_X(x_0,x)< \delta$, 
\[ d_Y \left( f(x_0),f(x) \right) < \epsilon .\]
In precise mathematical notation, one has
\begin{equation*}
\begin{split}
&(\forall \, \epsilon >0) ( \exists \, \delta >0), \\
&\left( (x\in X) \wedge (d_X(x_0,x)< \delta) \right) \Rightarrow  d_Y \left( f(x_0),f(x) \right) < \epsilon .
\end{split}
\end{equation*}
\end{definition}

\begin{definition}
A function $f : X \rightarrow Y$ is called \textbf{$d$-continuous} if, for all $x_0 \in X$, it is $d$-continuous at $x_0$.
In precise mathematical notation, one has
\begin{equation*}
\begin{split}
&(\forall \, x_0 \in X) (\forall \, \epsilon >0) ( \exists \, \delta >0), \\
&\left( (x\in X) \wedge (d_X(x_0,x)< \delta) \right) \Rightarrow  d_Y \left( f(x_0),f(x) \right) < \epsilon .
\end{split}
\end{equation*}
\end{definition}

\begin{definition}
A metric space $(X,d)$ is said to be \defn{metric space}{complete} if every Cauchy sequence in $X$ converges to a limit $x \in X$.
\end{definition}

\begin{example}
Any closed subset of $\mathbb{R}^n$ (or $\mathbb{C}^n$) is complete.
\end{example}

\begin{example}
Consider the sequence $x_n \in \mathbb{Q}$ defined by $x_n = \left( 1 + \frac{1}{n} \right)^n$.
It is well-known that this sequence converges to $e\in \mathbb{R}$, but this number is not rational.
Therefore, the rational numbers $\mathbb{Q}$ are not complete.
\end{example}

\begin{definition}
An \defn{metric space}{isometry} is a mapping $\phi : X \rightarrow Y$ between two metric spaces $(X,d_X)$ and $(Y,d_Y)$ that is distance preserving (i.e., it satisfies $d_X (x,x') = d_Y \left(\phi(x),\phi(x')\right)$ for all $x,x'\in X$).
\end{definition}

\begin{definition}
A function $f : X \rightarrow Y$ is called \textbf{uniformly $d$-continuous} if it $d$-continuous and, for all $\epsilon > 0$, the $\delta >0$ can be chosen independently of $x_0$.
In precise mathematical notation, one has
\begin{equation*}
\begin{split}
&(\forall \, \epsilon >0) ( \exists \, \delta >0) (\forall \, x_0 \in X), \\
&\left( (x\in X) \wedge (d_X(x_0,x)< \delta) \right) \Rightarrow  d_Y \left( f(x_0),f(x) \right) < \epsilon .
\end{split}
\end{equation*}
\end{definition}


\section{General Topology}

\index{topology}
\begin{definition}
A \textbf{topology} on a set $X$ is a collection $\mathcal{J}$ of subsets of $X$ that satisfies the following properties,
\begin{enumerate}
\item $\emptyset$ and $X$ are in $\mathcal{J}$
\item the union of the elements of any subcollection of $\mathcal{J}$ is in $\mathcal{J}$
\item the intersection of the elements of any finite subcollection of $\mathcal{J}$ is in $\mathcal{J}$.
\end{enumerate}
\end{definition}

A subset $A \subseteq X$ is called an \defn{topology}{open set} of $X$ if $A \in \mathcal{J}$.
Using this terminology, a topological space is a set $X$ together with a collection of subsets of $X$, called \emph{open sets}, such that $\emptyset$ and $X$ are both open and such that arbitrary unions and finite intersections of open sets are open.

\begin{definition}
\label{definition:topology_basis}
If $X$ is a set, a \defn{topology}{basis} for a topology on $X$ is a collection $\mathcal{B}$ of subsets of $X$ (called \emph{basis elements}) such that:
\begin{enumerate}
\item for each $x \in X$, there exists a basis element $B$ containing $x$.
\item if $x \in B_1$ and $x \in B_2$ where $B_1, B_2 \in \mathcal{B}$, then there exists a basis element $B_3$ containing $x$ such that $B_3 \subset B_1 \cap B_2$.
\item a subset $A \subseteq X$ is open in the topology on $X$ generated by $\mathcal{B}$ if and only if, for every $x \in A$, there exists a basis element $B \in \mathcal{B}$ such that $x \in B$ and $B \subseteq A$.
\end{enumerate}
\end{definition}

%If $\mathcal{B}$ is a basis for a topology on $X$, the topology $\mathcal{J}$ generated by $\mathcal{B}$ is described as follows.
%A subset $A \subseteq X$ is open in $X$ if for each $x \in A$ there exists a basis element $B \in \mathcal{B}$ such that $x \in B$ and $B \subseteq A$. 

Probably the most important and frequently used way of imposing a topology on a set is to define the topology in terms of a metric.
\begin{example}
If $d$ is a metric on the set $X$, then the collection of all $\epsilon$-balls
\begin{equation*}
\left\{ B_d (x, \epsilon) |  x \in X, \epsilon > 0 \right\}
\end{equation*}
is a basis for a topology on $X$.
This topology is called the \defn{topology}{metric topology} induced by $d$.

Applying the meaning of open set from Definition~\ref{definition:topology_basis} to this basis, one finds that a set $A$ is open if and only if, for each $x \in A$, there exists a $\delta > 0$ such that $B_d (x, \delta) \subset A$.
Clearly, this condition agrees with the definition of $d$-open from Definition~\ref{definition:metspace_dopen}.
%Conversely, if $A$ is $d$-open, then it contains a basis element $B = B_d (x, \epsilon)$ containing $a$, and $B$ in turn contains a basis element $B_d (a, \delta)$ centered at $a$.
\end{example}

\begin{definition}
Let $X$ be a topological space.
This space is said to be \defn{topology}{metrizable} if there exists a metric $d$ on the set $X$ that induces the topology of $X$.
%A metric space is a space $X$ together with a specific metric $d$ that gives the topology of $X$.
\end{definition}

\begin{example}
While most of the spaces discussed in these notes are metrizable, there is a very common notion of convergence that is not metrizable.
The topology on the set of functions $f: [0,1]\rightarrow \RealNumbers$ where the open sets are defined by pointwise convergence is not metrizable.
\end{example}


\subsection{Closed Sets and Limit Points}

\begin{definition}
A subset $A$ of a topological space $X$ is \defn{topology}{closed} if the set
\begin{equation*}
\Complement{A} = X - A = \{ x \in X | x \notin A \}
\end{equation*}
is open.
\end{definition}

Note that a set can be open, closed, both, or neither!
It can be shown that the collection of closed subsets of a space $X$ has properties similar to those satisfied by the collection of open subsets of $X$.

\begin{fact}
Let $X$ be a topological space.
The following conditions hold,
\begin{enumerate}
\item $\emptyset$ and $X$ are closed
\item arbitrary intersections of closed sets are closed
\item finite unions of closed sets are closed.
\end{enumerate}
\end{fact}

\begin{definition}
Given a subset $A$ of a topological space $X$, the \defn{topology}{interior} of $A$ is defined as the union of all open sets contained in $A$.
The \defn{topology}{closure} of $A$ is defined as the intersection of all closed sets containing $A$.
\end{definition}

The interior of $A$ is denoted by $\Interior{A}$ and the closure of $A$ is denoted by $\Closure{A}$.
We note that $\Interior{A}$ is open and $\Closure{A}$ is closed.
Furthermore, $\Interior{A} \subseteq A \subseteq \Closure{A}$.

\begin{theorem} \label{theorem:ClosureConditions}
Let $A$ be a subset of the topological space $X$.
The element $x$ is in $\Closure{A}$ if and only if every open set $B$ containing $x$ intersects $A$.
% Furthermore, if the topology of $X$ is given by a basis, then $x \in \Closure{A}$ if and only if every basis element $B$ containing $x$ intersects $A$.
\end{theorem}
\begin{proof}
We prove instead the equivalent contrapositive statement: $x \notin \Closure{A}$ if and only if there is an open set $B$ containing $x$ that does not intersect $A$.
Clearly, if  $x \notin \Closure{A}$, then $\Closure{A}^c = X - \Closure{A}$ is an open set containing $x$ that does not intersect $A$.
Conversely, if there is an open set $B$ containing $x$ that does not intersect $A$, then $B^c = X-B$ is a closed set containing $A$.
The definition of closure implies that $B^c$ must also contain $\Closure{A}$.
But $x \notin B^c$, so $x\notin \Closure{A}$.
\end{proof}

\begin{definition}
An open set $O$ containing $x$ is called a \defn{topology}{neighborhood} of $x$.
\end{definition}

\begin{definition}
Suppose $A$ is a subset of the topological space $X$ and let $x$ be an element of $X$.
Then $x$ is a \defn{topology}{limit point} of $A$ if every neighborhood of $x$ intersects $A$ in some point other than $x$ itself.
\end{definition}

In other words, $x \in X$ is a limit point of $A \subset X$ if $x \in \Closure{A - \{ x \}}$, the closure of $A - \{ x \}$.
The point $x$ may or may not be in $A$.

\begin{theorem}
A subset of a topological space is closed if and only if it contains all its limit points.
\end{theorem}

\begin{definition}
A subset $A$ of a topological space $X$ is \defn{topology}{dense} in $X$ if every $x\in X$ is a limit point of the set $A$.
This is equivalent to its closure $\overline{A}$ being equal to $X$.
\end{definition}

\begin{definition}
A topological space $X$ is \defn{topology}{separable} if it contains a countable subset that is dense in $X$.
\end{definition}

\begin{example}
Since every real number is a limit point of rational numbers, it follows that $\mathbb{Q}$ is a dense subset of $\RealNumbers$.
This also implies that $\RealNumbers$, the standard metric space of real numbers, is separable.
\end{example}


\subsection{Continuity}

\begin{definition}
Let $X$ and $Y$ be topological spaces.
A function $f: X \rightarrow Y$ is \defn{topology}{continuous} if for each open subset $O \subseteq Y$, the set $f^{-1} (O)$ is an open subset of $X$.
\end{definition}

Recall that $f^{-1}(B)$ is the set $\{ x \in X | f(x) \in B \}$.
Continuity of a function depends not only upon the function $f$ itself, but also on the topologies specified for its domain and range!

\begin{theorem} \label{theorem:ContinuityEquivalentConditions}
Let $X$ and $Y$ be topological spaces and consider a function $f: X \rightarrow Y$.
The following are equivalent:
\begin{enumerate}
\item $f$ is continuous
\item for every subset $A \subseteq X$, $f \left( \Closure{A} \right) \subseteq \Closure{ f(A) }$
\item for every closed set $C \subseteq Y$, the set $f^{-1} (C)$ is closed in $X$.
\end{enumerate}
\end{theorem}
\begin{proof}
$(1 \Rightarrow 2)$.
Assume $f$ is a continuous function.
Suppose $x \in \Closure{A}$, where $A$ is a subset of $X$.
Let $O$ be a neighborhood of $f(x)$.
Since $f^{-1}(O)$ is an open set of $X$ containing $x\in \Closure{A}$, it must intersect with $A$ in some point $x'$.
It follows that $O$ intersects $f(A)$ in the point $f(x')$.
By Theorem~\ref{theorem:ClosureConditions}, we find that $f(x) \in \Closure{ f(A) }$.

$(2 \Rightarrow 3)$.
Suppose that for every subset $A \subseteq X$, $f \left( \Closure{A} \right) \subseteq \Closure{ f(A) }$.
Let $C \subseteq Y$ be a closed set and let $A = f^{-1} (C)$.
By P~\ref{problem:SetFunctionInverse}, we have $f(A) \subseteq C$.
If $x \in \Closure{A}$, then
\begin{equation*}
f(x) \in f \left( \Closure{A} \right) \subseteq \Closure{f (A)} \subseteq \Closure{C} = C.
\end{equation*}
So that $x \in f^{-1} (C) = A$ and, as a consequence, $\Closure{A} \subseteq A$.
Thus, $A = \Closure{A}$ is closed.

$(3 \Rightarrow 1)$.
Let $O$ be an open set in $Y$.
Let $\Complement{O} = Y - O$; then $\Complement{O}$ is closed in $Y$.
By assumption, $f^{-1} (\Complement{O})$ is closed in $X$.
Using elementary set theory, we have
\begin{equation*}
X - f^{-1}(O^c) = \{ x\in X | f(x) \notin O^c \} = \{ x \in X | f(x) \in O \} = f^{-1} (O).
%f^{-1} (O) = f^{-1} (Y - \Complement{O}) = f^{-1}(Y) - f^{-1}(\Complement{O}) = X - f^{-1}(\Complement{O}).
\end{equation*}
That is, $f^{-1} (O)$ is open.
\end{proof}

\begin{theorem}
Suppose $X$ and $Y$ are two metrizable spaces with metrics $d_X$ and $d_Y$.
Consider a function $f : X \rightarrow Y$.
The function $f$ is continuous if and only if it is $d$-continuous with respect to these metrics.
\end{theorem}
\begin{proof}
Suppose that $f$ is continuous.
For any $x_1 \in X$ and $\epsilon > 0$, let $O_y =  B_{d_Y} (f(x_1), \epsilon)$ and consider the set
\begin{equation*}
O_x = f^{-1} \left( O_y \right)
\end{equation*}
which is open in $X$ and contains the point $x_1$.
Since $O_x$ is open and $x_1 \in O_x$, there exists a $d$-open ball $B_{d_X} (x_1, \delta)$ of radius $\delta>0$ centered at $x_1$ such that $B_{d_X} (x_1, \delta) \subset O_x$.
We also see that $f(x_2) \in O_y$ for any $x_2 \in B_{d_X} (x_1, \delta)$ because $A \subseteq O_x$ implies $f(A) \subseteq O_y$.
It follows that $d_Y \left( f(x_1), f(x_2) \right) < \epsilon$ for all $x_2 \in B_{d_X} (x_1, \delta)$.

Conversely, let $O_y$ be an open set in $Y$ and suppose that the function $f$ is $d$-continuous with respect to $d_X$ and $d_Y$.
For any $x \in f^{-1} (O_y)$, there exists a $d$-open ball $B_{d_Y} (f(x), \epsilon)$ of radius $\epsilon>0$ centered at $f(x)$ that is entirely contained in $O_y$.
By the definition of $d$-continuous, there exits a $d$-open ball $B_{d_X} (x, \delta)$ of radius $\delta>0$ centered at $x$ such that $f \left( B_{d_X} (x,\delta) \right) \subset B_{d_Y} \left( f(x), \epsilon \right)$.
Therefore, every $x \in f^{-1}(O_y)$ has a neighborhood in the same set, and that implies $f^{-1} (O_y)$ is open.
\end{proof}

\begin{definition} \label{definition:SequenceConvergence}
A sequence $x_1, x_2, \ldots$ of points in $X$ is said to \defn{topology}{converge} to $x \in X$ if for every neighborhood $O$ of $x$ there exists a positive integer $N$ such that $x_i \in O$ for all $i \geq N$.
\end{definition}

A sequence need not converge at all.
However, if it converges in a metrizable space, then it converges to only one element.

\begin{theorem}
Suppose that $X$ is a metrizable space, and let $A \subseteq X$.
There exists a sequence of points of $A$ converging to $x$ if and only if $x \in \Closure{A}$.
\end{theorem}
\begin{proof}
Suppose $x_n \rightarrow x$, where $x_n \in A$.
Then, for every open set $O$ containing $x$, there is an $N$, such that $x_n \in O$ for all $n>N$.
By Theorem~\ref{theorem:ClosureConditions}, this implies that $x \in \Closure{A}$.
Let $d$ be a metric for the topology of $X$ and $x$ be a point in $\Closure{A}$.
For each positive integer $n$, consider the neighborhood $B_d \left( x, \frac{1}{n} \right)$.
Since $x\in \Closure{A}$, the set $A \cap B_d \left( x, \frac{1}{n} \right)$ is not empty and we choose $x_n$ to be any point in this set.
It follows that the sequence $x_1, x_2, \ldots$ converges to $x$.
Notice that the ``only if'' proof holds for any topological space, while ``if'' requires a metric.
\end{proof}

\begin{theorem}
\label{theorem:topology_limitpoint_closure}
Let $f: X \rightarrow Y$ where $X$ is a metrizable space.
The function $f$ is continuous if and only if for every convergent sequence $x_n \rightarrow x$ in $X$, the sequence $f(x_n)$ converges to $f(x)$.
\end{theorem}
\begin{proof}
Suppose that $f$ is continuous.
Let $O$ be a neighborhood of $f(x)$.
Then $f^{-1}(O)$ is a neighborhood of $x$, and so there exists an integer $N$ such that $x_n \in f^{-1}(O)$ for $n \geq N$.
Thus, $f(x_n) \in O$ for all $n \geq N$ and $f(x_n) \rightarrow f(x)$.

To prove the converse, assume that the convergent sequence condition is true.
Let $A \subseteq X$.
Since $X$ is metrizable, one finds that $x \in \Closure{A}$ implies that there exists a sequence $x_1, x_2, \ldots$ of points of $A$ converging to $x$.
By assumption, $f(x_n) \rightarrow f(x)$.
Since $f(x_n) \in f(A)$, Theorem~\ref{theorem:topology_limitpoint_closure} implies that $f(x) \in \Closure{f(A)}$.
Hence $f \left( \Closure{A} \right) \subseteq \Closure{f(A)}$ and $f$ is continuous.
\end{proof}


\subsection{Completeness}

Suppose $X$ is a metrizable space.
From Definition~\ref{definition:SequenceConvergence}, we know that a sequence $x_1, x_2, \ldots$ of points in $X$ converges to $x \in X$ if for every neighborhood $A$ of $x$ there exists a positive integer $N$ such that $x_i \in A$ for all $i \geq N$.

It is possible for a sequence in a metrizable space $X$ to satisfy the Cauchy criterion, but not to converge in $X$.

\begin{example}
Let $C[-1,1]$ be the vector space of continuous functions on the interval $[-1,1]$ and consider the $L_2$ norm
\begin{equation*}
\left\| f(t) \right\|_2 = \left( \int_{-1}^1 |f(t)|^2 dt \right)^{\frac{1}{2}}.
\end{equation*}
Define the sequence of functions $f_n(t)$ given by
\begin{equation*}
f_n(t) = \left\{ \begin{array}{ll}
0 & t \in \left[ -1, -\frac{1}{n} \right] \\
\frac{nt}{2} + \frac{1}{2} & t \in \left( -\frac{1}{n}, \frac{1}{n} \right) \\
1 & t \in \left[ \frac{1}{n}, 1 \right]
\end{array} \right. .
\end{equation*}
Assuming that $m \geq n$, we get
\begin{equation*}
d(f_n, f_m) = \left\| f_n(t) - f_m(t) \right\|_2
= \left( \int_{-1}^1 |f_n(t) - f_m(t)|^2 dt \right)^{\frac{1}{2}}
= \frac{(m-n)^2}{6m^2n}.
\end{equation*}
This sequence satisfies the Cauchy criterion, but it does not converge to a continuous function in $C[-1,1]$.
\end{example}

\begin{definition}
A metrizable space $X$ is said to be \defn{topology}{complete} if every Cauchy sequence in $X$ converges to a limit $x \in X$.
\end{definition}

\begin{theorem}
A closed subset $A$ of a complete metrizable space $X$ is itself a complete metrizable space.
\end{theorem}

\begin{definition}
The \defn{topology}{completion} of a metrizable space $X$ consists of a complete metric space $X'$ and an isometry $\phi : X \rightarrow X'$ such that $\phi(X)$ is a dense subset of $X'$.
Moreover, the completion is unique up to isometry.
\end{definition}

\begin{example}
Consider the metric space $\mathbb{Q}$ of rational numbers equipped with the metric of absolute distance.
The completion of this metric space is $\RealNumbers$ because the isometry is given by the identity mapping and $\mathbb{Q}$ is a dense subset of $\RealNumbers$.
\end{example}

Cauchy sequences have many applications in analysis and signal processing.
For example, they can be used to construct the real numbers from the rational numbers.
In fact, the same approach is used to construct the completion of any metric space.

\begin{definition}
Two Cauchy sequences $x_1, x_2, \ldots$ and $y_1, y_2, \ldots$ are equivalent if for every $\epsilon >0$ there exists an integer $N$ such that $d (x_k, y_k) \leq \epsilon$ for all $k \geq N$.
\end{definition}

\begin{example}
Let $\mathcal{C}(\mathbb{Q})$ denote the set of all Cauchy sequences $q_1, q_2, \ldots$ of rational numbers where $\sim$ represents the equivalence relation on this set defined above.
Then, the set of equivalence classes (or quotient set) $\mathcal{C}(\mathbb{Q}) \setminus \!\! \sim$ is in one-to-one correspondence with the real numbers.
This construction is the standard completion of $\mathbb{Q}$.
Since every Cauchy sequence of rationals converges to a real number, the isometry is given by mapping each equivalence class to its limit point in $\RealNumbers$.
\end{example}

\begin{definition}
Let $A$ be a subset of a metric space $(X,d)$ and $f: X \rightarrow X$ be a function such that $f(A) \subseteq A$.
The function $f$ is a \defn{metric space}{contraction} on $A$ if there exists a constant $\gamma < 1$ such that $d \left( f(x),f(y) \right) \leq \gamma  d(x,y)$ for all $x,y\in A$.
\end{definition}

Consider the following important results in applied mathematics: Picard's theorem for differential equations, the implicit function theorem, and Bellman's principle of optimality for Markov decision processes.
What do they have in common?
They each establish the existence and uniqueness of a function and have relatively simple proofs based on the contraction mapping theorem.

\begin{theorem}[Contraction Mapping Theorem]
Let $(X,d)$ be a complete metric space and $f$ be contraction on a closed subset $A \subseteq X$.
Then, $f$ has a unique fixed point $x^*$ in $A$ such that $f(x^*) = x^*$.
Moreover, the sequence $x_{n+1} = f(x_n)$ converges to $x^*$ for any point $x_1 \in A$, with $d(x^*, f^n(x_1)) \leq c \gamma^n$ for a constant $c$ depending on $x_1$.
\end{theorem}
\begin{proof}
Suppose $f$ has two fixed points $y,z\in A$.
Then, $d(y,z) = d \left(f(y),f(z) \right) \leq \gamma  d(y,z)$ and $d(y,z) = 0$ because $\gamma \in [0,1)$.
This shows that $y=z$ and any two fixed points in $A$ must be identical.

Using induction, it is easy to see that $d(x_n,x_{n+1}) \leq \gamma^{n-1} d(x_1,x_2)$.
From this, we can bound the distance between $x_m$ and $x_n$ (for $m<n$) with
\begin{align*}
d(x_m,x_n)
& \leq d(x_m,x_{m+1}) + d(x_{m+1},x_n) \\
& \leq \sum_{i=m}^{n-1} d(x_i,x_{i+1}) 
 \leq \sum_{i=m}^{n-1} \gamma^{i-1} d(x_1,x_2) \\
& \leq \sum_{i=m}^\infty \gamma^{i-1} d(x_1,x_2) 
 \leq \frac{\gamma^{m-1}}{1-\gamma} d(x_1,x_2).
\end{align*}
The sequence $x_n$ is Cauchy because $d(x_m,x_n)$ can be made arbitrarily small (for all $n>m$) by increasing $m$.
Since $(X,d)$ is complete, it must converge to a fixed point and $x^*$ is the unique fixed point in $A$.
\end{proof}

\begin{example}
Consider the cosine function restricted to the subset $[0,1]\subseteq \RealNumbers$.
Since $\cos(x)$ is decreasing for $0 \leq x < \pi$, we have $\cos([0,1]) = [\cos(1),1]$ with $\cos(1) \approx 0.54$.
The mean value theorem of calculus also tells us that $\cos(y) - \cos(x) = \cos '(t) (y-x)$ for some $t\in [x,y]$.
Since $\cos '(t) = -\sin(t)$ and $\sin(t)$ is increasing on $[0,1]$, we find that $\sin([0,1]) = [0,\sin(1)]$ with $\sin(1) \approx 0.84$.

Taking the absolute value, shows that $| \cos(y) - \cos(x) | \leq 0.85 |y-x|$.
Therefore, $\cos(t)$ is a contraction on $[0,1]$ and the sequence $x_{n+1} = \cos(x_n)$ converges to the unique fixed point $x^* = \cos(x^*)$ for all $x_1 \in [0,1]$.
\end{example}

%\begin{example}
%Suppose the function $f: \RealNumbers \rightarrow \RealNumbers$ satisfies $|f(x)| \leq a |x|$ for all $x\in X$.
%If $X$ be a closed subset of the real numbers containing zero and $a\in[0,1)$, then $f$ is a contraction on $X$ and $x_{n+1} = f(x_n) \rightarrow 0$ for all $x_1 \in X$.
%\end{example}


\subsection{Compactness}

\begin{definition}
A metrizable space $X$ is \defn{topology}{totally bounded} if, for any $\epsilon > 0$, there exists a finite set of $B(x,\epsilon)$ balls that cover (i.e., whose union equals) $X$.
\end{definition}

\begin{definition}
A metrizable space $X$ is \defn{topology}{compact} if it is complete and totally bounded.
\end{definition}

The closed interval $[0,1]\subset \RealNumbers$ is compact.
In fact, a subset of $\RealNumbers^n$ is compact if and only if it is closed and bounded.
On the other hand, the standard metric space of real numbers is not compact because it is not totally bounded.

\begin{theorem}
\label{thm:CompactClosedSubsetCompact}
A closed subset $A$ of a compact space $X$ is itself a compact space.
\end{theorem}

The following theorem highlights one of the main reasons that compact spaces are desirable in practice.

\begin{theorem}
Let $X$ be a compact space and $x_1,x_2,\ldots \in X$ be a sequence.
Then, there is a subsequence $x_{n_1},x_{n_2},\ldots$, defined by some increasing sequence $n_1,n_2,\ldots \in \mathbb{N}$, that converges.
\end{theorem}
\begin{proof}
Suppose for some $x\in X$, it holds that, for any $\epsilon > 0$, the set $B(x,\epsilon)$ contains infinitely many elements in the sequence $x_1,x_2,\ldots$.
In this case, we can choose $n_1,n_2,\ldots$ so that $|x\! -\! x_{n_j}|\! <\! \frac{1}{j}$.
Therefore, the subsequence converges to $x$.

On the other hand, suppose the sequence has no convergent subsequence.
Then, for every $x\in X$, there is an $\epsilon >0$ such that $B(x,\epsilon)$ does not contain infinitely many elements in the sequence.
Since $X$ is totally bounded, we also find that, for any $\epsilon >0$, $X$ is covered by a finite set of balls of radius $\epsilon$.
But, for each $\epsilon >0$, this gives a contradiction because all the elements in the infinite sequence must fall into a finite number balls each containing finitely many elements.
By contradiction, this implies that there is a subsequence that converges.
%First, we suppose the sequence has no convergent subsequence.
%Then, we notice that the set $A = \{x_1,x_2,\ldots \}$ is closed and therefore compact by Theorem~\ref{thm:CompactClosedSubsetCompact}.
%Since any limit point of $A$ can be used to generate a convergent subsequnce, we must also conclude that $A$ has no limit points.
%This implies that there is an $\epsilon > 0$ such that infinitely balls aronud $x$'s does not cover $X$.
%Therefore, $X$ is not totally bounded and we have a contradiction.
\end{proof}

Functions from compact sets to the real numbers are very important in practice.
To keep the discussion self-contained, we first review the extreme values of sets of real numbers.
First, we must define the \defn{topology}{extended real numbers} $\overline{\RealNumbers}$ by augmenting the real numbers to include limit points for unbounded sequences $\overline{\RealNumbers} \triangleq \RealNumbers \cup \{ \infty,-\infty\}$.
Surprisingly, it turns out that $\overline{\RealNumbers}$ is a compact metrizable space.

\begin{definition}
The \defn{topology}{supremum} (or least upper bound) of $X\subseteq \RealNumbers$, denoted $\sup X$, is the smallest extended real number $M \in \overline{\RealNumbers}$ such that $x\leq M$ for all $x\in X$.
It is always well-defined and equals $-\infty$ if $X=\emptyset$.
\end{definition}

\begin{definition}
The \defn{topology}{maximum} of $X\subseteq \RealNumbers$, denoted $\max X$, is the largest value achieved by the set.
It equals $\sup X$ if $\sup X \in X$ and is undefined otherwise.
\end{definition}

\begin{definition}
The \defn{topology}{infimum} (or greatest lower bound) of $X\subseteq \RealNumbers$, denoted $\inf X$, is the largest extended real number $m \in \overline{\RealNumbers}$ such that $x\geq m$ for all $x\in X$.
It is always well-defined and equals $\infty$ if $X=\emptyset$.
\end{definition}

\begin{definition}
The \defn{topology}{minimum} of $X\subseteq \RealNumbers$, denoted $\min X$, is the smallest value achieved by the set.
It equals $\inf X$ if $\inf X \in X$ and is undefined otherwise.
\end{definition}

\begin{lemma}
\label{lem:SupremumSequence}
Let $X$ be a metrizable space and $f: X\rightarrow \RealNumbers$ be a function from $X$ to the real numbers.
Let $M = \sup f(A)$ for some non-empty $A \subseteq X$.
Then, there exists a sequence $x_1,x_2,\ldots \in A$ such that $\lim_n f(x_n) = M$.
\end{lemma}
\begin{proof}
If $M=\infty$, then $A$ has no finite upper bound and, for any $y\in \RealNumbers$, there exists an $x\in A$ such that $f(x)>y$.
In this case, we can let $x_1$ be any element of $A$ and $x_{n+1}$ be any element of $A$ such that $f(x_{n+1}) > f(x_n) + 1$.

If $M<\infty$, then $A$ has a finite upper bound and, for any $\epsilon >0$, there is an $x$ such that $M-f(x)<\epsilon$.
Otherwise, one arrives at the contradiction $\sup f(A) < M$.
Therefore, we can construct the sequence $x_1,x_2,\ldots$ by choosing $x_n\in A$ to be any point that satisfies $M-f(x_n)\leq \frac{1}{n}$.
\end{proof}

\begin{theorem}
Let $X$ be a metrizable space and $f: X\rightarrow \RealNumbers$ be a continuous function from $X$ to the real numbers.
If $A$ is a compact subset of $X$, then there exists $x\in A$ such that $f(x)=\sup f(A)$ (i.e., $f$ achieves a maximum on $A$).
\end{theorem}
\begin{proof}
Using Lemma~\ref{lem:SupremumSequence}, one finds that there is a sequence $x_1,x_2,\ldots \in A$ such that $\lim_n f(x_n) = \sup f(A)$.
Since $A$ is compact, there must also be a subsequence $x_{n_1},x_{n_2},\ldots$ that converges to some $x^* \in A$.
Finally, the continuity of $f$ shows that
\[\sup f(A) = \lim_n f(x_n) = \lim_k f(x_{n_k}) = f(\lim_k x_{n_k}) = f(x^*).\]
\end{proof}

\begin{corollary}
A continuous function from a compact subset $A$, of a metrizable space $X$, to the real numbers achieves a minimum on $A$.
\end{corollary}

\begin{theorem}
Any bounded non-decreasing sequence of real numbers converges to its supremum.
\end{theorem}
\begin{proof}
Let $x_1,x_2,\ldots \in \RealNumbers$ be a sequence satisfying $x_{n+1} \geq x_n$ and $x_n \leq M < \infty$ for all $n\in \mathbb{N}$.
Without loss of generality, we can take the upper bound $M$ to be the supremum $\sup \{x_1,x_2,\ldots\}$.
This sequence converges to $M$ if, for any $\epsilon >0$, there is an $N\in \mathbb{N}$ such that $M-x_n<\epsilon$ for all $n>N$.

Proving by contradiction, we assume that it does not converge to $M$.
Since $x_n$ is non-decreasing, this implies that there is an $\epsilon > 0$ such that $M - x_n \geq \epsilon$ for all $n\in \mathbb{N}$.
But, this result contradicts $\sup f(A) = M$.
Therefore, the sequence converges to $M$.
\end{proof}

%\begin{example}
%\end{example}

